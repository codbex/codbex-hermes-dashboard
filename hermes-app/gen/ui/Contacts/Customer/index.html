<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" ng-app="page" ng-controller="PageController">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="icon" href="data:;base64,iVBORw0KGgo=" dg-brand-icon />
		<title dg-brand-title></title>
		<theme></theme>
		<script type="text/javascript"
			src="/services/js/resources-core/services/loader.js?id=application-view-js"></script>
		<link type="text/css" rel="stylesheet"
			href="/services/js/resources-core/services/loader.js?id=application-view-css" />

		<script type="text/javascript" src="controller.js"></script>
	</head>

	<body class="dg-vbox" dg-contextmenu="contextMenuContent">
		<fd-toolbar has-title="true" class="fd-toolbar">
			<h4>Items ({{dataCount}})</h4>
			<fd-toolbar-spacer></fd-toolbar-spacer>
			<fd-button compact="true" dg-type="transparent" dg-label="Create"
				state="{{action == 'update'? 'disabled' : ''}}" ng-click="createEntity()"></fd-button>
			<fd-button compact="true" dg-type="transparent" dg-label="Edit"
				state="{{selectedEntity == null ? 'disabled' : ''}}" ng-click="updateEntity()"></fd-button>
			<fd-button compact="true" dg-type="transparent" dg-label="Delete"
				state="{{selectedEntity == null || action == 'update'? 'disabled' : ''}}" ng-click="deleteEntity()">
			</fd-button>
		</fd-toolbar>

		<fd-scrollbar>
			<fd-list list-type="navigation-indication" byline="true" state="disabled">
				<fd-list-item ng-repeat="next in data">
					<fd-list-link navigation-indicator="true" dg-selected="next.Id === selectedEntity.Id"
						navigated="next.Id === selectedEntity.Id"
						ng-click="action == 'select' ? selectEntity(next) : ''">
						<fd-list-content
							item-title="{{next.Name}}">
							<fd-list-byline dg-align="left">
								{{next.Line1}} |
								{{next.Line2}} |
								{{next.City}} |
								{{next.County}} |
								{{next.PostalCode}} |
								<a href="mailto:{{next.Email}}" class="fd-link">{{next.Email}}</a> |
								<a href="tel:{{next.Phone}}" class="fd-link">{{next.Phone}}</a> |
								{{next.Fax}} |
								{{optionsCountryValue(next.Country)}}
							</fd-list-byline>
						</fd-list-content>
					</fd-list-link>
				</fd-list-item>
			</fd-list>
			<fd-list-action-item ng-show="dataPage <= dataPages && dataCount > dataLimit" ng-click="loadPage()">
				Load More ...
			</fd-list-action-item>
		</fd-scrollbar>

	</body>

</html>
